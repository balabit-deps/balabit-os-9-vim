From 143367256836b0f69881dc0c65ff165ae091dbc5 Mon Sep 17 00:00:00 2001
From: Bram Moolenaar <Bram@vim.org>
Date: Sat, 8 Jan 2022 16:02:59 +0000
Subject: [PATCH] patch 8.2.4042: Vim9: build error

Problem:    Vim9: build error.
Solution:   Use grow array instead of character pointer.
---
 src/version.c     | 2 ++
 src/vim9execute.c | 9 +++++----
 2 files changed, 7 insertions(+), 4 deletions(-)

--- a/src/vim9execute.c
+++ b/src/vim9execute.c
@@ -3344,13 +3344,14 @@
 		    list_functions(NULL);
 		else
 		{
-		    exarg_T ea;
-		    char_u  *line_to_free = NULL;
+		    exarg_T	ea;
+		    garray_T	lines_to_free;
 
 		    CLEAR_FIELD(ea);
 		    ea.cmd = ea.arg = iptr->isn_arg.string;
-		    define_function(&ea, NULL, &line_to_free);
-		    vim_free(line_to_free);
+		    ga_init2(&lines_to_free, sizeof(char_u *), 50);
+		    define_function(&ea, NULL, &lines_to_free);
+		    ga_clear_strings(&lines_to_free);
 		}
 		break;
 
